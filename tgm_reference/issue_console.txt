

ISSUE - TGM Web Console

golang 의 https://pkg.go.dev/os/exec 패키지를 사용하여 시스템 명령어 수행 후 결과 값을 웹소켓으로 받아 출력

[[제약조건]] 

1. 명령어 실행 후 output값을 받아 출력 하는 처리 이기 때문에 결과 값이 오래 걸리는 경우는 wait 처리 등으로
대응 하여 응답을 받을 수 있지만 상호작용 ex) vi , sudo , passwd 등 사용자의 응답이 있어야 하는 명령어
는 처리 안됨 - 이미 결과를 응답한 상태임으로 일반  ssh프로그램처럼 동작 처리 하기는 힘듬

2. cd  명령어 사용 불가 
cd 명령어의 경우는 built in 명령어인 관계로 exec에서 지원안하고 cmd.Dir로 임의로 변경은 가능하나
사용자의 명령어 실행 기준을 알수 없기 때문에 현실적으로는 동적인 명령어에서 cd 명령어를 처리 하기 는 힘듬
파일 브라우저에서 디렉토리 이동으로 cd명령어 대응 해야 할 듯 함

Execute the 'cd' command for CMD in Go
https://stackoverflow.com/questions/44206940/execute-the-cd-command-for-cmd-in-go

3. 리눅스 사용자 연계에 따라 TGM서비스 자체를 관리자(root) 권한으로 실행해야 함
   그러면 사용자들 로그인해도 실제 수행은 관리자가 수행 하는 것처럼 동작
  이 부분은 명령어 실행시 sudo -u $USER 명령어를 항상 앞에 붙이는 식으로 수정 했으나
 위와 같은 명령어 조합으로 실행이 안되는 처리가 있다면 수행 불가 할 듯 함

4. 일반적으로 exec.Command 명령어 수행시는 명령어에 | 조합 명령어 처리 불가 함
   수정을 통해 exec.Command("sh","-c", "명령어구문절")
   위의 형식으로 수정하여 파이프 명령어 수행 처리 대응 하였으나 사용자가 복잡하게
   명령어 조합시 처리 될지는 확인 불가 (테스트 경우의 수가 너무 많음)

5. find 명령어 처럼 출력 결과 양이 많은 경우 해당 내용을 웹 소켓으로 출력 하는 처리 이기 때문에
   TGM 서비스가 처리 중 멈추는 현상 발생 할 수 있음  웹에서 너무 많은 일을 처리 하려면 문제가 됨

6. 리눅스의 기본 기능인 자동완성 기능 제공 불가 







